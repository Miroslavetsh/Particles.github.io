const canvas=document.querySelector("canvas"),ctx=canvas.getContext("2d");canvas.width=window.innerWidth,canvas.height=window.innerHeight;let particleArray=[],mouse={x:null,y:null,r:canvas.height/80*canvas.width/80};window.addEventListener("mousemove",(function(t){mouse.x=t.x+canvas.clientLeft/2,mouse.y=t.y+canvas.clientTop/2}));class Particle{constructor(t,i,e,a,r,n){this.x=t,this.y=i,this.directionX=e,this.directionY=a,this.size=r,this.color=n}draw(){ctx.beginPath(),ctx.arc(this.x,this.y,this.size,0,2*Math.PI,!1),ctx.fillStyle="#ffa100",ctx.fill()}update(){(this.x>canvas.width||this.x<0)&&(this.directionX=-this.directionX),(this.y>canvas.height||this.y<0)&&(this.directionY=-this.directionY);let t=mouse.x-this.x,i=mouse.y-this.y;Math.sqrt(t*t+i*i)<mouse.r+this.size&&(mouse.x<this.x&&this.x<canvas.width-10*this.size&&(this.x+=10),mouse.x>this.x&&this.x>10*this.size&&(this.x-=10),mouse.y<this.y&&this.x<canvas.height-10*this.size&&(this.y+=10),mouse.y>this.y&&this.y>10*this.size&&(this.y-=10)),this.x+=this.directionX,this.y+=this.directionY,this.draw()}}function init(){particleArray=[];let t=canvas.width*canvas.height/9e3;for(let i=0;i<2*t;i++){let t=5*Math.random()+1,i=Math.random()*(innerWidth-2*t-2*t)+2*t,e=Math.random()*(innerHeight-2*t-2*t)+2*t,a=5*Math.random()-2.5,r=5*Math.random()-2.5,n="#ffa100";particleArray.push(new Particle(i,e,a,r,t,n))}}function connect(){let t=1;for(let i=0;i<particleArray.length;i++)for(let e=i;e<particleArray.length;e++){let a=(particleArray[i].x-particleArray[e].x)*(particleArray[i].x-particleArray[e].x)+(particleArray[i].y-particleArray[e].y)*(particleArray[i].y-particleArray[e].y);a<canvas.width/7*(canvas.height/7)&&(t=1-a/2e4,ctx.strokeStyle=`rgb(255, 161, 0, ${t})`,ctx.lineWidth=1,ctx.beginPath(),ctx.moveTo(particleArray[i].x,particleArray[i].y),ctx.lineTo(particleArray[e].x,particleArray[e].y),ctx.stroke())}}function animate(){requestAnimationFrame(animate),ctx.clearRect(0,0,innerWidth,innerHeight);for(let t=0;t<particleArray.length;t++)particleArray[t].update();connect()}window.addEventListener("resize",(function(){canvas.width=innerWidth,canvas.height=innerHeight,mouse.r=canvas.height/80*canvas.width/80,init()})),window.addEventListener("mouseout",(function(){mouse.x=void 0,mouse.y=void 0})),init(),animate();